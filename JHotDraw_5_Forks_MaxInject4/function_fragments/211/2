  protected boolean inExtensionNamespace() {
    boolean inExtension = false;

    Enumeration elements = namespaceStack.elements();
    while (!inExtension && elements.hasMoreElements()) {
      String ns = (String) elements.nextElement();
      if (ns == null) {
        inExtension = true;
      
} else {
        inExtension = (!ns.equals(tr9401NamespaceName)
                       && !ns.equals(namespaceName));
      }
    }

    return inExtension;
  }
